<div class="index-body">

<p id ="index-notice"></p> 
<h1 class"index-h1">Books</h1>

<table class="index-table">
<thead class="index-thead">
<tr class="index-tr">
<th class="index-th">title</th>
<th class="index-th">body</th>
<th class="index-th"></th>
</tr>
</thead>

<tbody class="index-tbody">
<% @books.each do |book| %>
<tr class="index-tr">
<td class="index-td">
<%= book.title %>
</td>
<td class="index-td">
<%= book.body %>
</td>
<td class="index-td">
<%= link_to "show", book_path(book.id) %>
<%= link_to "edit", edit_book_path(book.id) %>
<%= link_to "destroy", book_path(book.id), method: :delete, "data-confirm" => "Are you sure?" %>
</td>
</tr>
<% end %>
</tbody>
</table>

<% if @book.errors.any? %>
<!--↑を入れると３４行目はエラーになったときだけ読み込まれる-->
<p>文字が入力されていないerrorです</p>
<% @book.errors.full_messages.each do |message| %>
    <div class="form-error">
        <%= message %>
    </div>
    
<% end %>
<% end %>

<% if flash[:notice] %>
    <div class="flash">
        <%= flash[:notice] %>
        </div>
<% end %>

<h2 class="index-h2">New book</h2>


<div class="index-form">
<%= form_with model:@book, local:true do |f| %>

<h4>Title</h4>
<%= f.text_field :title %>

<h4>Body</h4>
<%= f.text_area :body %>

<br><%= f.submit 'Create Book' %></br>

<% end %>

</div>

</div>

